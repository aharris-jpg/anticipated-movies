<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Top 10 Most Anticipated Movies of 2026 — Vegas Insider</title>

<style>
:root{
  --page:#F7F4EF;
  --ink:#0b1220;
  --muted:#64748b;
  --bd:rgba(0,0,0,.10);
  --bdsoft:rgba(0,0,0,.06);
  --radius:18px;
  --shadow:0 16px 44px rgba(0,0,0,.10);
  --shadowSoft:0 10px 26px rgba(15,23,42,.10);
}

*{box-sizing:border-box}
body{
  margin:0;
  background:var(--page);
  color:var(--ink);
  font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;
  display:flex;
  justify-content:center;
  padding:18px;
}
.wrap{width:min(1060px,100%)}

header{text-align:center;margin:0 0 14px}
h1{
  margin:0;
  font-size:clamp(1.6rem,1.1rem + 2vw,2.3rem);
  letter-spacing:-.03em;
  font-weight:950;
}
.dek{
  margin:8px auto 0;
  max-width:840px;
  color:var(--muted);
  font-size:.95rem;
}

.frame{
  background:linear-gradient(#fff,#fffaf0);
  border:1px solid rgba(37,99,235,.10);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
}

.grid-wrap{
  padding:14px;
  background:
    radial-gradient(1200px 500px at 50% -40px, rgba(0,0,0,.04), transparent 65%),
    linear-gradient(135deg,#fffdf7,#f7f2e9);
}

.grid{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:12px;
}
@media(max-width:1000px){.grid{grid-template-columns:repeat(4,1fr)}}
@media(max-width:820px){.grid{grid-template-columns:repeat(3,1fr)}}
@media(max-width:560px){.grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:380px){.grid{grid-template-columns:1fr}}

.card{
  background:linear-gradient(180deg,#fff,#fff8ee);
  border:1px solid rgba(0,0,0,.08);
  border-radius:18px;
  overflow:hidden;
  box-shadow:var(--shadowSoft);
  transition:transform .15s ease, box-shadow .15s ease;
}
.card:hover{
  transform:translateY(-2px);
  box-shadow:0 18px 42px rgba(15,23,42,.14);
}

.poster{
  aspect-ratio:2/3;
  background:
    radial-gradient(circle at 30% 20%, rgba(245,158,11,.22), transparent 45%),
    radial-gradient(circle at 80% 0%, rgba(234,179,8,.14), transparent 55%),
    linear-gradient(180deg,#fbfaf7,#fff);
  position:relative;
}
.poster img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

.badge{
  position:absolute;
  top:10px;left:10px;
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.10);
  background:rgba(255,255,255,.92);
  font-weight:900;
  box-shadow:0 10px 18px rgba(0,0,0,.10);
}
.badge::before{
  content:"";
  width:16px;height:16px;
  border-radius:999px;
  background:linear-gradient(180deg,#fde68a,#f59e0b);
  box-shadow:0 0 0 6px rgba(245,158,11,.14);
}

.fallback-tag{
  position:absolute;
  bottom:10px; left:10px;
  font-size:12px;
  font-weight:850;
  color:#334155;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.10);
  background:rgba(255,255,255,.88);
  display:none;
}
.card.is-fallback .fallback-tag{display:inline-flex;}

.body{
  padding:12px;
  border-top:1px solid rgba(0,0,0,.05);
}
.title{
  margin:0 0 4px;
  font-size:.95rem;
  font-weight:900;
  letter-spacing:-.01em;
}
.meta{
  margin:0;
  font-size:.9rem;
  color:var(--muted);
  font-weight:800;
}

.logoRow{
  padding:12px 0;
  display:flex;
  justify-content:center;
  background:#fffefd;
  border-top:1px solid var(--bdsoft);
}
.logoRow img{height:44px;filter:drop-shadow(0 2px 3px rgba(0,0,0,.18));}

.share{
  background:#fbf7ef;
  border-top:1px solid var(--bdsoft);
  padding:14px;
}
.share h3{margin:0 0 8px;font-size:.95rem}
button{
  appearance:none;
  border:1px solid var(--bd);
  background:#fff;
  border-radius:10px;
  padding:7px 12px;
  font-weight:800;
  cursor:pointer;
}
button:hover{background:#fffdfa}
.embed-panel[hidden]{display:none}
textarea{
  width:100%;
  height:120px;
  border-radius:12px;
  border:1px solid var(--bd);
  padding:8px;
  font:12px/1.4 ui-monospace,monospace;
  resize:none;
}
.toast{
  position:fixed;
  left:50%;bottom:18px;
  transform:translateX(-50%);
  background:rgba(11,16,32,.92);
  color:#fff;
  padding:10px 14px;
  border-radius:14px;
  font-size:12px;
  font-weight:800;
  display:none;
  z-index:9999;
}
</style>
</head>

<body>
<div class="wrap">
  <header>
    <h1>Top 10 Most Anticipated Movies of 2026</h1>
    <p class="dek">Ranked by U.S. Google search volume (Keyword Planner). Posters images: Wikipedia.</p>
  </header>

  <div class="frame">
    <div class="grid-wrap">
      <div id="grid" class="grid" aria-label="Top 10 movies grid"></div>
    </div>

    <div class="logoRow">
      <img src="https://i.postimg.cc/nLWxFkC4/download.png" alt="Vegas Insider">
    </div>

    <div class="share">
      <h3>Share / Embed</h3>
      <button id="embedToggle" aria-controls="embedPanel" aria-expanded="false">Get Embed Code</button>
      <button id="copyEmbed" style="margin-left:6px;">Copy embed</button>
      <div id="embedPanel" class="embed-panel" hidden>
        <textarea id="embedCode" readonly onclick="this.select()"></textarea>
      </div>
    </div>
  </div>
</div>

<div id="toast" class="toast">Embed code copied</div>

<script>
/* ---------- Update after publishing ---------- */
const CANONICAL_URL = "https://aharris-jpg.github.io/anticipated-movies/chart.html";

/* ---------- Data ---------- */
const TOP10 = [
 {rank:1, title:"Avengers: Doomsday", perMonth:823000},
 {rank:2, title:"Spider-Man: Brand New Day", perMonth:368000},
 {rank:3, title:"Toy Story 5", perMonth:301000},
 {rank:4, title:"Scream 7", perMonth:301000},
 {rank:5, title:"Supergirl", perMonth:165000},
 {rank:6, title:"The Cat in the Hat", perMonth:135000},
 {rank:7, title:"Masters of the Universe", perMonth:74000},
 {rank:8, title:"Street Fighter", perMonth:74000},
 {rank:9, title:"The Odyssey", perMonth:74000},
 {rank:10, title:"Wuthering Heights", perMonth:74000}
];

const PLACEHOLDER_POSTER =
  "data:image/svg+xml;charset=utf-8," +
  encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" width="600" height="900">
      <defs>
        <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
          <stop offset="0" stop-color="#fff7ed"/>
          <stop offset="1" stop-color="#fef3c7"/>
        </linearGradient>
      </defs>
      <rect width="100%" height="100%" fill="url(#g)"/>
      <rect x="28" y="28" width="544" height="844" rx="34" fill="rgba(0,0,0,.06)"/>
      <rect x="42" y="42" width="516" height="816" rx="30" fill="rgba(255,255,255,.86)"/>
      <text x="50%" y="48%" text-anchor="middle" font-family="system-ui,Segoe UI,Roboto" font-weight="900" font-size="34" fill="#0b1220">Poster</text>
      <text x="50%" y="54%" text-anchor="middle" font-family="system-ui,Segoe UI,Roboto" font-weight="700" font-size="22" fill="#475569">Not available</text>
    </svg>
  `);

function fmt(n){ return n.toLocaleString(); }

/* ---------- Wikipedia poster fetch (robust) ---------- */
const posterCache = new Map();

function buildQueries(title){
  // Try multiple variations because unreleased films can be finicky
  return [
    title,
    `${title} (film)`,
    `${title} film`,
    `${title} movie`,
    `${title} upcoming film`,
    `${title} 2026 film`,
    `${title} 2025 film`,
  ];
}

async function wikiSearchTopPageId(query){
  const url = "https://en.wikipedia.org/w/api.php?origin=*&format=json&action=query&list=search&srlimit=1&srsearch=" +
              encodeURIComponent(query);
  const res = await fetch(url);
  const json = await res.json();
  return json?.query?.search?.[0]?.pageid || null;
}

async function wikiThumbByPageId(pageid){
  const url = "https://en.wikipedia.org/w/api.php?origin=*&format=json&action=query&prop=pageimages&pithumbsize=800&pilicense=any&pageids=" +
              pageid;
  const res = await fetch(url);
  const json = await res.json();
  const page = json?.query?.pages?.[pageid];
  return page?.thumbnail?.source || null;
}

async function fetchPoster(title){
  if (posterCache.has(title)) return posterCache.get(title);

  const queries = buildQueries(title);
  for (const q of queries){
    try{
      const pageid = await wikiSearchTopPageId(q);
      if (!pageid) continue;
      const thumb = await wikiThumbByPageId(pageid);
      if (thumb){
        posterCache.set(title, thumb);
        return thumb;
      }
    }catch(e){ /* try next */ }
  }
  posterCache.set(title, PLACEHOLDER_POSTER);
  return PLACEHOLDER_POSTER;
}

/* ---------- Render ---------- */
const grid = document.getElementById("grid");

function cardHTML(m){
  return `
    <article class="card" data-title="${m.title}">
      <div class="poster">
        <span class="badge">#${m.rank}</span>
        <span class="fallback-tag">Poster unavailable</span>
        <img src="${PLACEHOLDER_POSTER}" alt="${m.title} poster" loading="lazy">
      </div>
      <div class="body">
        <h3 class="title">${m.title}</h3>
        <p class="meta">${fmt(m.perMonth)} searches/month</p>
      </div>
    </article>
  `;
}

async function render(){
  grid.innerHTML = TOP10.map(cardHTML).join("");

  // Load in parallel and swap in
  await Promise.all(TOP10.map(async (m, idx) => {
    const src = await fetchPoster(m.title);
    const card = grid.children[idx];
    if (!card) return;

    const img = card.querySelector("img");
    if (img) img.src = src;

    if (src === PLACEHOLDER_POSTER) card.classList.add("is-fallback");
  }));
}

render().catch(console.error);

/* ---------- Embed ---------- */
const embedToggle = document.getElementById("embedToggle");
const embedPanel  = document.getElementById("embedPanel");
const embedCode   = document.getElementById("embedCode");
const copyBtn     = document.getElementById("copyEmbed");
const toast       = document.getElementById("toast");

embedCode.value =
`<!-- BEGIN: Top 10 Most Anticipated Movies of 2026 (Interactive) -->
<div style="max-width:980px;margin:16px auto;">
  <iframe src="${CANONICAL_URL}" width="100%" height="820" loading="lazy"
          style="border:1px solid #E3E0D6;border-radius:14px;background:#fff"
          title="Top 10 Most Anticipated Movies of 2026 — Vegas Insider"></iframe>
</div>
<!-- END: Interactive -->`;

embedToggle.addEventListener("click", () => {
  const hidden = embedPanel.hasAttribute("hidden");
  if (hidden) {
    embedPanel.removeAttribute("hidden");
    embedToggle.setAttribute("aria-expanded","true");
    embedToggle.textContent = "Hide Embed Code";
  } else {
    embedPanel.setAttribute("hidden","");
    embedToggle.setAttribute("aria-expanded","false");
    embedToggle.textContent = "Get Embed Code";
  }
});

copyBtn.addEventListener("click", async () => {
  try{
    await navigator.clipboard.writeText(embedCode.value);
    toast.style.display = "block";
    setTimeout(()=>toast.style.display="none", 2200);
  }catch(e){
    toast.textContent = "Copy failed (browser permissions)";
    toast.style.display = "block";
    setTimeout(()=>{ toast.style.display="none"; toast.textContent="Embed code copied"; }, 2400);
  }
});
</script>
</body>
</html>
